%% symbol library for TikZ track schematics
%
% Copyright 2018 Martin Scheidt (ISC license)

% Permission to use, copy, modify, and/or distribute this file for any purpose with or without fee is hereby granted, provided that the above copyright notice and this permission notice appear in all copies.

% based on Ril 819.9002 by Deutsche Bahn released 01.05.2012

\tikzset{
  distant_signal_forward/.pic={
    {   % signal pole
      \path[draw, line width=1pt] (0,-0.3) -- ++(0,-0.2);
      \path[draw, line width=1pt] (0,-0.4) -- ++(0.5,0);
    }
    {   % signal marker
      \path[draw, fill] (0.7,-0.6) rectangle ++(0.2,0.4);
      \path[draw, fill] (0.7,-0.2) arc (90:270:0.2);
    }
  };
}
\tikzset{
  distant_signal_backward/.pic={
    {   % signal pole
      \path[draw, line width=1pt] (0,0.3) -- ++(0,0.2);
      \path[draw, line width=1pt] (0,0.4) -- ++(-0.5,0);
    }
    {   % signal marker
      \path[draw, fill] (-0.7,0.6) rectangle ++(-0.2,-0.4);
      \path[draw, fill] (-0.7,0.2) arc (90:270:-0.2);
    }
  };
}
\tikzset{
  route_signal_forward/.pic={
    {   % signal pole
      \path[draw, line width=1pt] (0,-0.3) -- ++(0,-0.2);
      \path[draw, line width=1pt] (0,-0.4) -- ++(0.7,0);
    }
    {   % signal marker
      \path[draw, fill] (0.7,-0.6) rectangle ++(0.3,0.4);
      \path[draw, fill] (1.0,-0.6) arc (90:270:-0.2);
    }
  };
}
\tikzset{
  route_signal_backward/.pic={
    {   % signal pole
      \path[draw, line width=1pt] (0,0.3) -- ++(0,0.2);
      \path[draw, line width=1pt] (0,0.4) -- ++(-0.7,0);
    }
    {   % signal marker
      \path[draw, fill] (-0.7,0.6) rectangle ++(-0.3,-0.4);
      \path[draw, fill] (-1.0,0.6) arc (90:270:0.2);
    }
  };
}
\tikzset{
  route_forward/.pic={
    \fill (0,-0.15) -- ++(0,0.3) -- ++ (0.35,-0.15) -- cycle;
  };
}
\tikzset{
  route_backward/.pic={
    \fill (0,-0.15) -- ++(0,0.3) -- ++ (-0.35,-0.15) -- cycle;
  };
}
% \tikzset{
%     speed_signal_forward/.pic={
%         \path[draw, line width=1pt] (0,0) -- ++(0,-0.4) -- ++(0.4,0); % signal pole
%         \path[draw, line width=1pt] (0.4,-0.2) -- ++(0,-0.4) -- ++ (0.35,0.2) -- cycle; % signal marker
%     };
% }
% \tikzset{
%     speed_signal_backward/.pic={
%         \path[draw, line width=1pt] (0,0) -- ++(0,0.4) -- ++(-0.4,0); % signal pole
%         \path[draw, line width=1pt] (-0.4,0.2) -- ++(0,0.4) -- ++ (-0.35,-0.2) -- cycle; % signal marker
%     };
% }
% \tikzset{
%     shunt_signal_forward/.pic={
%         \path[draw, line width=1pt] (0,0) -- ++(0,-0.4) -- ++(0.7,0); % signal pole
%         \path[draw, line width=1pt] (0.6,-0.3) circle (0.1); % signal marker
%     };
% }
\tikzset{
  clearing_point/.pic={
    \path[draw, line width=1pt] (0,-0.1) -- ++(0,0.2); % signal pole
    \path[draw, line width=1pt] (0.1,0.1) -- ++(-0.2,0); % signal marker
  };
}
\tikzset{
  axle_counter_left/.pic={
    \path[draw, line width=1pt] (-0.25,0.16) -- ++(0.5,0);
    \path[draw, line width=1pt, fill] (-0.1,0.16) circle (0.07);
    \path[draw, line width=1pt, fill] ( 0.1,0.16) circle (0.07);
  };
}
\tikzset{
  axle_counter_right/.pic={
    \path[draw, line width=1pt] (-0.25,-0.16) -- ++(0.5,0);
    \path[draw, line width=1pt, fill] (-0.1,-0.16) circle (0.07);
    \path[draw, line width=1pt, fill] ( 0.1,-0.16) circle (0.07);
  };
}
\tikzset{
  derailer_right_forward/.pic={
    \fill (-0.1,0.2) -- ++(0,-0.4) -- ++(0.2,0) -- ++(0,0.4) -- cycle; % signal pole
    \path[draw,->,>=latex,line width=1pt] (-0.2,0.2) -- (0.4,-0.4); % derailer marker
  };
}
